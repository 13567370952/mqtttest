---
title: 09-Vue2.x笔记
categories: 前端
tags: ["前端","html","css","js","javascript","ES6","vue"]
---

```xml
作者 : 夜泊1990
邮箱 : hd1611756908@163.com
企鹅 : 1611756908
鹅群 : 948233848
博客 : https://hd1611756908.github.io/
破站 : https://space.bilibili.com/514155929/
```


## 第一章 Vue概述

```xml
Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式前端JS框架.

重点: 1. 前端框架; 2. JavaScript框架

学习Vue框架之前需要掌握前端的基础知识(HTML/CSS/JS),JS最高是掌握ES5/ES6的新特性.
```

<!-- more -->

## 第二章 Vue环境搭建

### 第1节 官网地址
```xml
https://v2.cn.vuejs.org/
```
### 第2节 环境安装

```xml
1. 方式一 : 下载安装包离线引入, 安装包下载地址: [开发版本: https://v2.cn.vuejs.org/js/vue.js][生产版本: https://v2.cn.vuejs.org/js/vue.min.js]
2. 方式二 : CDN引入方式, CDN地址为: <script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"></script>
3. 方式三 : 构建大型项目采用npm包管理工具(命令为: npm install vue),这里入门不做详细介绍
4. 方式四 : 命令行工具CLI(官方脚手架,如果了解Java语言的同学,可以将其看成maven工具,一种项目管理工具),入门代码中不做详细介绍
```

## 第三章 Vue入门之HelloWorld
### 第1节 入门代码编写

```html
<body>
	<!-- Vue模板-->
	<div id="app">
		{{msg}}
	</div>
	<!-- JS代码 -->
	<script>
		/*
			1. 创建Vue实例对象
			2. 将Vue对象与id='app'的标签元素绑定到一起
			
			el: element英文单词缩写,是Vue的固有属性,值为字符串类型(是一个选择器),用来绑定DOM元素
			data: Vue对象固有属性,值为对象类型({})
			
			我们这里在data对象中自定义了一个msg的属性,在Vue模板中使用插值表达式{{msg}},属性名的方式可以直接获取data中定义的值.
			
			Vue语法中定义了插值的概念,可以采用双花括号({{key}})的方式Vue对象中data对象中的值
			
			Vue对象中还定义了全局的监听器,在Vue对象中的数据发生变化时,Vue模板中对应的参数也会时时的进行变化.
		*/
		new Vue({
			el:'#app',
			data:{
				msg:'Hello World...'
			}
		});
	</script>
</body>
```

### 第2节 Vue API简介
#### 2.1 Vue API地址
```xml
https://v2.cn.vuejs.org/v2/api/
```
#### 2.2 Vue API简介
```xml
1. 什么是API: 任何计算机语言都会提供API,官方的解释就是应用程序接口,白话就是学习一门计算机语言或者技术的说明文档(说明书)

2. 什么是Vue API: 官话就是Vue的应用程序接口,白话就是学习Vue这门技术,官网给提供的使用说明书.更具体一点那就接着往下看 ↓↓↓↓↓↓

3. 白话Vue API: 
   上面的入门HelloWorld代码中创建了一个Vue对象,里面传了一个el属性和data属性,为什么我不能随便传,而是传了这两个对象.
   这时候Vue的API就非常重要了,他介绍了Vue.js文件中定义了方法以及方法的使用(方法的入参,以及方法入参的类型),让我们在使用时可以直接查找使用,这个就是API的作用
```
## 第四章 Vue基础语法之插值表达式

```html
插值表达式: 是Vue进行前端数据渲染的一种手段,差值是用来给表达式插入具体值,然后转换成文本(字符串),因为前端HTML标签中不能展示别的对象

案例:

<body>
	<!-- Vue模板 -->
	<div id="app">
		<!-- 
			{{}}: 差值表达式语法
			1. 可以通过变量获取值
			2. 可以进行简单的数学运算
			3. 可以进行方法调用
		-->
		{{msg}}<br/>
		{{msg+" 测试拼接"}}<br/>
		{{code+100}} | {{code-10}} | {{code*10}} | {{code/10}} | {{code==100}}<br/>
		{{Math.random()}} | {{new Date()}}<br/>
		{{list}} | {{list[0]}} | {{list[1]}} | {{list[2]}}
	</div>
	
	<script>
		/* Vue对象 */
		new Vue({
			el:'#app',/* Vue对象和模板绑定 */
			data:{ /* 自定义数据*/
				msg:'测试差值',
				code:100,
				list:[1,2,"Hello"]
			}
		});
		
	</script>
</body>
```

## 第五章 Vue指令之数据绑定

```html

官网API地址: https://v2.cn.vuejs.org/v2/api/#%E6%8C%87%E4%BB%A4

v-text: vue的指令,功能和插值表达式类似
v-html: vue的指令,功能类似于js中的innerHTML

<body>
	<!-- Vue模板 -->
	<div id="app">
		<p>{{msg}}</p>
		<p>{{msg1}}</p><!-- 不解析标签 -->
		<p v-text="text"></p>
		<p v-text="text1"></p><!-- 不解析标签 -->
		<p v-html="html"></p>
		<p v-html="html1"></p><!-- 解析标签 -->
	</div>
	
	<script>
		/* Vue对象 */
		new Vue({
			el:'#app',/* Vue对象和模板绑定 */
			data:{
				msg:'插值表达式',
				msg1:'<em>差值表达式</em>',
				text:'指令text',
				text1:'<em>指令text</em>',
				html:'指令html',
				html1:'<em>指令html</em>'
			}
		});
	</script>
</body>
```

## 第六章 Vue指令之属性绑定

```html
<body>
	<!-- Vue模板 -->
	<div id="app">
		<!-- 方式一 -->
		<h4 v-bind:title="attr">测试属性绑定方式一</h4>
		<!-- 方式二 -->
		<h4 :title="attr">测试属性绑定方式二</h4>
		<!-- 绑定图片地址 -->
		<img :src="src">
		<!-- 绑定a标签地址 -->
		<a v-bind:href="url"></a>
	</div>
	<script>
		/* Vue对象 */
		new Vue({
			el:'#app',/* Vue对象和模板绑定 */
			data:{
				attr:"我是属性数据",
				src:"pic/test.jpeg",
				url:"https://www.baidu.com"
			}
		});
	</script>
</body>
```

## 第七章 Vue指定之分支和循环

### 第1节 分支指令 v-if/v-else/v-else-if

```html
v-if 指令用于条件性地渲染一块内容,v-else-if和v-else指令道理相同.

<body>
	<div id="app">
		<p v-if="type=='A'">A</p>
		<p v-else-if="type=='B'">B</p>
		<p v-else-if="type=='C'">C</p>
		<p v-else>NOT A/B/C</p>
	</div>
	<script>
		new Vue({
			el:"#app",
			data:{
				type:'C'
			}
		});
		// 类似于 v-else，v-else-if 也必须紧跟在带 v-if 或者 v-else-if 的元素之后
	</script>
</body>
```

### 第2节 隐藏和显示 v-show

```html
//v-show控制标签的显示和隐藏
<body>
	<div id="app">
		<p v-show="flag">显示</p>
		<p v-show="!flag">隐藏</p>
	</div>
	<script>
		new Vue({
			el:"#app",
			data:{
				flag:true
			}
		});
	</script>
</body>
```

### 第3节 循环指令 v-for

```html
<body>
	<div id="app">
		<ul>
			<!-- 
				v-for语法的格式一: item in items 格式
					items: 要循环的数组
					item: 指向数组中对象的变量
				v-for语法的格式二: (item,index) in items 格式
					items: 要循环的数组
					item: 指向数组中对象的变量
					index: 数组中数据的索引值
				
				还可以使用of替换in,效果相同
				
				注意: Vue强调在进行v-for列表渲染时一定要设置key属性,以便于类表更高效快速的渲染,代码如下:
			 -->
			<!-- 无key属性渲染 -->
			<li v-for="item in list">{{item.name}}</li>
			<hr>
			<!-- 无key属性渲染 -->
			<li v-for="(item,index) in list">{{index}}<-->{{item.name}}</li>
			<hr/>
			<!-- key属性渲染 -->
			<li v-for="(item,index) in list" v-bind:key="index">{{index}}<-->{{item.name}}</li>
		</ul>
	</div>
	<script>
		new Vue({
			el:"#app",
			data:{
				list:[
					{id:1001,name:"北京"},
					{id:1002,name:"广州"},
					{id:1003,name:"上海"},
					{id:1004,name:"深圳"}
				]
			}
		});
	</script>
</body>
```

## 第八章 Vue指令之事件绑定

### 第1节 事件代码实现

```xml
Vue事件绑定采用v-on指令,使用方式如下 ↓↓↓↓↓

<body>
	<div id="app">
		<h4>{{count}}</h4>
		<h4>{{s}}</h4>
		<!-- 绑定事件方式一(v-on指令) -->
		<button v-on:click="count++;">测试事件绑定方式一</button>
		<!-- 绑定事件方式二(v-on简写方式) -->
		<button @click="count++;">测试事件绑定方式二</button>
		<!-- 绑定事件方式三(将事件交给自定义函数[无参]) -->
		<button @click="incrCount">测试事件绑定方式三[无参,简写]</button>
		<button @click="incrCount()">测试事件绑定方式三[无参,带括号]</button>
		<button @click="sum(1,2)">测试事件绑定方式三[有参]</button>
	</div>
	<script>
		new Vue({
			el:"#app",
			data:{
				count:1,
				s:0
			},
			/* 
				自定函数位置 
				API文档位置:  https://v2.cn.vuejs.org/v2/api/#methods
			*/
			methods:{
				incrCount:function(){
					this.count++;
				},
				sum:function(x,y){
					console.log(x+y);
					this.s=x+y;
				}
			}
		});
	</script>
</body>

详情查看官网: https://v2.cn.vuejs.org/v2/api/#v-on
```

### 第2节 事件练习

#### 2.1 实现案例

<table>
	<tr>
		<td>
			<img src="https://note.youdao.com/yws/api/personal/file/WEB93f4a874f9bf1d5546cde49a5659e0fc?method=download&shareKey=8529191ce0da95a24806fb7c53a28086">
		</td>
		<td style="font-size:13px;">
			电商平台在购物车上添加或者减少商品数量的计数器
		</td>
	</tr>
</table>

#### 2.2 案例代码

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>计数器</title>
		<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
		<style type="text/css">
			#app>div{
				width: 150px;
				height: 40px;
				border:1px solid #cccccc;
				display: flex;
				flex-direction: row;
				justify-content: space-between;
			}
			#app>div>span{
				height: 40px;
				width: 70px;
				line-height: 40px;
				text-align: center;
			}
			#app>div>a{
				display: block;
				height: 40px;
				width: 40px;
				line-height: 40px;
				text-align: center;
				cursor: pointer;
			}
			/* 鼠标移动到加减符号背景深色 */
			#app>div>a:hover{
				background-color: #CCCCCC;
			}
		</style>
	</head>
	<body>
		<div id="app">
			<div>
				<a v-on:click="sub()">-</a>
				<span>{{ count }}</span>
				<a @click="add()">+</a>
			</div>
		</div>
		<script type="text/javascript">
			new Vue({
				el:"#app",
				data:{
					count:1
				},
				methods:{
					// 定义添加函数
					add:function(){
						/* this关键字表示当前的Vue实例对象 */
						if(this.count>=10){
							alert("最多限购10个");
						}else{
							this.count++;
						}
					},
					// 定义减函数
					sub:function(){
						if(this.count<=1){
							alert("已经剩最后一个");
						}else{
							this.count--;
						}
					}
				}
			})
		</script>
	</body>
</html>
```

## 第九章 表单输入绑定
### 第1节 表单输入绑定介绍 
```html
form表单的常见控件包括: input、textarea、select

Vue提供了v-model指令进行表单数据控件的数据处理: 案例如下 ↓↓↓↓↓

<body>
	<div id="app">
		<form>
			<!-- 单行文本 -->
			<h4>单行文本: {{email}}</h4>
			<input type="text" v-model="email" placeholder="邮箱..."><hr>
			<!-- 多行文本 -->
			<h4>多行文本: {{mark}}</h4>
			<textarea v-model="mark" placeholder="备注..."></textarea><hr>
			<h4>单个复选框: {{ck}}</h4>
			<!-- 复选框 练习一 -->
			<input type="checkbox" v-model="ck"/><hr>
			<h4>多个复选框: {{cks}}</h4>
			<!-- 复选框 练习二 -->
			<input type="checkbox" id="jack" value="Jack" v-model="cks">
			<label for="jack">Jack</label>
			<input type="checkbox" id="john" value="John" v-model="cks">
			<label for="john">John</label>
			<input type="checkbox" id="mike" value="Mike" v-model="cks">
			<label for="mike">Mike</label> <hr>
			<!-- 单选框 -->
			<h4>单选框: {{gender}}</h4>
			<input type="radio" id="man" value="男" name="gender" v-model="gender">
			<label for="man">男</label>
			<input type="radio" id="woman" value="女" name="gender" v-model="gender">
			<label for="woman">女</label> <hr>
			<h4>下拉框: {{city}}</h4>
			<!-- 下拉框 -->
			<select v-model="city">
				<option disabled value="">请选择</option>
				<option>北京</option>
				<option>上海</option>
				<option>广州</option>
				<option>深圳</option>
			</select>
		</form>
	</div>
	<script>
		new Vue({
			el:"#app",
			data:{
				email:"",
				mark:"",
				ck:false,
				cks:[],
				gender:"男",
				city:""
			}
		});
	</script>
</body>
```
### 第2节 表单输入绑定练习

#### 2.1 实现案例

<table>
	<tr>
		<td style="font-size:13px;">
			<strong>编写一个小栗子:</strong> <br/>
			1. 在输入框中输入数据的时候将内容展示在ul+li中,并且清空输入框<br/>
			2. 当鼠标点击li内容时,可以删除添加的内容.
		</td>
		<td>
			<img src="https://note.youdao.com/yws/api/personal/file/WEB6c414db7ef8704dca0cd960b2ec0c789?method=download&shareKey=fa23156e7d6b62cc81723885e5b2434d">
		</td>
	</tr>
</table>

#### 2.2 案例代码

```html
<body>
	<div id="app">
		<!-- 输入框 -->
		<input v-model="inputValue" placeholder="亲输入..."/>
		<!-- 添加按钮,绑定单击事件 -->
		<button @click="add" type="button">添加</button>
		<ul>
			<!-- 当数据没有内容的时候li标签不会循环 -->
			<li style="cursor: pointer;" @click="del(index)" v-for="(item,index) of list" :key="index">{{index+1}} --> {{item}}</li>
		</ul>
	</div>
	<script type="text/javascript">
		new Vue({
			el:"#app",
			data:{
				/* 绑定输入数据 */
				inputValue:"",
				/* 存储输入数据 */
				list:[]
			},
			methods:{
				/* 定义事件触发函数 */
				add:function(){
					/* 数据存储到list中 */
					this.list.push(this.inputValue);
					//将输入框清空
					this.inputValue="";
				},
				/* 定义删除方法 */
				del:function(index){
					/* 
						当点击li项的时候删除当前项,根据索引从数组中删除数据
						splice(参数1,参数2)：操作数组的函数
							参数1: 删除数组数据,从哪个索引开始删除
							参数2: 删除数组数据,从索引开始删除几个
					*/
				   this.list.splice(index,1);
				}
			}
		});
	</script>
</body>
```

## 第十章 计算属性和侦听器

### 第1节 计算属性
```html
<body>
    <!-- 计算属性  -->
    <div id="app">
        姓:<input v-model="firstName" />
        名:<input v-model="lastName" />
        <!-- 
            插值表达式,是一个表达式,表达式中可以进行复杂的逻辑运算
            1. 加减乘除
            2. 方法调用
            3. ......
            注意: 
                1. 如果在差值表达式中进行复杂运算,在后期修改维护起来不方便,并且可能让整个页面渲染速度下降.
                2. vue提供了计算属性,将复杂的逻辑操作运算完成在送到插值表达式中(或者是指令中)
         -->
        <div>{{firstName +" "+ lastName}}</div>
        <div>{{fullName}}</div>
    </div>
    <script type="text/javascript">
        var vm = new Vue({
            el:"#app",
            data:{
                firstName:'',
                lastName:''
            },
            /* 
                使用computed声明计算属性,计算属性声明的语法格式如下
                    1. fullName: 自定义计算属性名称,计算属性名称不需要定义在data中
                    2. 使用function关键字定义,其实计算属性是一个函数
                    3. 使用return最后将结果返回给fullName
                    4. 在vue模板中可以使用差值或者指令进行数据绑定
             */
            computed:{
                fullName:function(){
                    /*  在计算属性中进行复杂的逻辑运算,代替在差值或者指令中的复杂逻辑运算  */
                    return this.firstName+" "+this.lastName;
                }
            }
        });
    </script>
</body>
```
### 第2节 侦听器

```html
侦听器是侦听data中定义的属性或者是计算属性中定义的属性.

<body>
    <!-- 
        侦听器
          1. 侦听data中定义的属性
          2. 侦听computed中定义的属性
          3. 使用watch关键字进行定义
    -->
    <div id="app">
        姓:<input v-model="firstName" />
        名:<input v-model="lastName" />
        <div>{{firstName +" "+ lastName}}</div>
        <div>{{fullName}}</div>
        <div v-text="count"></div>
    </div>
    <script type="text/javascript">
        var vm = new Vue({
            el:"#app",
            data:{
                firstName:'',
                lastName:'',
                count:0
            },
            computed:{
                fullName:function(){
                    /*  在计算属性中进行复杂的逻辑运算,代替在差值或者指令中的复杂逻辑运算  */
                    return this.firstName+" "+this.lastName;
                }
            },
            /* 定义侦听器 */
            watch:{
                /* 
                    侦听data中定义的firstName属性变化,变化一次记录一次 
                    记录的是发生变化的次数而不是数据的长度
                */
                firstName:function(){
                    this.count++;
                },
                /* 侦听data中定义的lastName属性 */
                lastName:function(){
                    this.count++;
                },
                /* 侦听计算属性fullName */
                fullName:function(){
                    this.count++;
                }
            }
        });
    </script>
</body>
```

## 第十一章 Class与Style绑定

### 第1节 Vue样式属性之Class绑定

```html
<html>
    <head>
        <meta charset="utf-8" />
        <title></title>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
        <style type="text/css">
            .c1{
                color: red;
            }
            .c2{
                color: blue;
            }
            .c3{
                font-size: 100px;
            }
        </style>
    </head>
    <body>
        <!-- Vue的Class样式属性处理  -->
        <div id="app">
            <h1 class="c1">传统样式</h1>
            <!-- 
                class是属性所以可以使用v-bind绑定
                1. 被v-bind绑定的class的值是一个JS对象({}),里面是一个个的key-val键值对
                2. key是类名; val是参数(参数值是true/false),如果val为true那么c2生效,否则c2不生效
                3. 当class被v-bind修饰之后,当前标签上还可以定义不被v-bind修饰的原class,使用方式和css样式相同
                4. 如果在一个标签上声明一个一个原生class和一个v-bind修饰的class,两个样式的配置合并,同时生效
                5. v-bind:class的值时一个JS对象key-val可以配置多个
             -->
            <h1 class="c3" v-bind:class="{c2:isActive}">Vue样式</h1>
        </div>
        <script type="text/javascript">
            var vm = new Vue({
                el:"#app",
                data:{
                    isActive:true
                }
            });
        </script>
    </body>
</html>

Tips: https://v2.cn.vuejs.org/v2/guide/class-and-style.html
```

### 第2节 Vue样式属性之Style绑定

```html
<body>
    <!-- Vue的style样式属性处理  -->
    <div id="app">
        <h1 style="color: red;font-size: 100px;">传统样式</h1>
        <!-- 
            使用v-bind修饰的额style属性的值是一个JS对象(key-val键值对)
            如果值是字符串类型,使用双(单)引号修饰了,直接就是值,如果没有使用双(单)引号修饰,可能是一个变量,需要去data中查找
         -->
        <h1 v-bind:style="{color:'blue',fontSize:fontSize+'px'}">Vue样式一</h1>
        <!-- 
            Vue另一种设置方式,使用一个JS对象,在data属性中设置
         -->
         <h1 v-bind:style="styleObject">Vue样式二</h1>
    </div>
    <script type="text/javascript">
        var vm = new Vue({
            el:"#app",
            data:{
                fontSize:100,
                styleObject:{
                    color:"yellow",
                    fontSize:"100px"
                }
            }
        });
    </script>
</body>
```

## 第十二章 Vue组件

### 第1节 组件的意义

```xml
一句话介绍组件: 组件是可复用的 Vue 实例

在前端页面中有很多模块是相似的(看下图↓↓↓↓↓),既然是相似的可不可以封装成一个组件进行复用呢? vue提供了组件封装的方式.
```

<table>
	<tr>
		<td>
			<img src="https://note.youdao.com/yws/api/personal/file/WEB30085b98ad2e23434be7e93edf925a58?method=download&shareKey=eca3a4188191a338b310066079e4a113">
		</td>
	</tr>
</table>

### 第2节 组件的定义
#### 2.1 全局定义

```html
<body>
    <div id="app">
        /* 使用自定义的组件,直接使用组件名 */
        <button-counter></button-counter>
    </div>
    <script>
        /* 
            全局组件注册 
            1. 创建全局组件使用Vue中的component函数
            2. 函数的第一个参数,给组件起名字,名字定义方式可以使用短横线(aaa-bbb-ccc)或者驼峰(AaaBbbCcc)
            3. 函数的第二个参数,是一个JS对象,组件的定义信息都在这个对象中,配置信息基本和Vue对象相同
            4. vue对象中的data和组件中的data代表的意义是相同的,但是他们不是同一个,互不干扰
			5. 组件要展示的前端内容定义在template属性中.

			组件的命名规则请查看风格指南: https://v2.cn.vuejs.org/v2/style-guide/
        */
        Vue.component('button-counter', {
		  /*
			组件的data和Vue对象中的data类型不相同
			组件中的data类型是一个函数(function)
			Vue对象中的data是一个js对象({})
		  */
          data: function () {
            return {
              count: 0
            }
          },
          template: '<button v-on:click="count++">被点击了 {{ count }} 次.</button>'
        })
        var vm = new Vue({
            el:"#app",
            data:{

            }
        })

    </script>
</body>
```

#### 2.2 局部定义

```html
<body>
    <div id="app">
        <!-- 使用自定义组件 -->
        <component-a></component-a>
    </div>
    <script>
        /* 自定义组件 */
        var ComponentA={
            data: function () {
                return {
                  count: 0
                }
            },
            template: '<button v-on:click="count++">被点击了 {{ count }} 次.</button>'
        };
        var vm = new Vue({
            el:"#app",
            data:{

            },
            /* 将自定义的局部组件进行注册 */
            components:{
                'component-a':ComponentA
            }
        })
    </script>
</body>
```

#### 2.3 组件定义注意事项

```html
组件注册时,template属性的值只能有一个根标签,实现如下 ↓↓↓↓↓
<body>
	<div id="app">
		<com-b></com-b>
	</div>
	<script>
		/* 
			组件注册
		 */
		Vue.component('com-b', {
		  data: function () {
			return {
			 
			}
		  },
		  /* 
			template:属性的值一定只能有一个元素作为根元素,所以这样编写会报错,需要在外部在套一个根标签
		  */
		  /* template: '<p>组件内容1</p><p>组件内容2</p>' */
		  template: '<div><p>组件内容1</p><p>组件内容2</p></div>'
		})
		
		new Vue({
			el:'#app',
			data:{
				
			}
		});
	</script>
</body>
```

### 第3节 组件的参数传递
#### 3.1 单属性参数传递

```html
<body>
	<div id="app">
		<!-- 
			使用自定义属性 
			注意事项: 使用自定义属性时,如果自定义属性采用驼峰命名,那么在使用时需要写成下划线,详见文档 ↓↓↓↓↓
			文档地址: https://v2.cn.vuejs.org/v2/style-guide/#Prop-%E5%90%8D%E5%A4%A7%E5%B0%8F%E5%86%99%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90
		-->
		<com-b v-bind:user-name="userName" :age="age"></com-b>
	</div>
	<script>
		/* 
			组件注册
		 */
		Vue.component('com-b', {
		  /* 
			使用props 给 com-b 组件定义属性,属性名自定义(案例中定义了2个属性userName、age)
		   */
		  props:["userName","age"],
		  template: `
			<div>
				<span>{{userName}}</span> 今年 <span>{{age}} 岁了</span>
			</div>
		  `
		})
		
		new Vue({
			el:'#app',
			data:{
				userName:"小明",
				age:16
			}
		});
	</script>
</body>
```

#### 3.2 对象属性参数传递

```html
<body>
	<div id="app">
		<!-- 
			使用自定义属性
		-->
		<com-b :user="user"></com-b>
	</div>
	<script>
		/* 
			组件注册
		 */
		Vue.component('com-b', {
		  props:["user"],
		  template: `
			<div>
				<span>{{user.userName}}</span> 今年 <span>{{user.age}} 岁了</span>
			</div>
		  `
		})
		
		new Vue({
			el:'#app',
			data:{
				user:{
					userName:"小明",
					age:16
				}
			}
		});
	</script>
</body>
```

#### 3.3 集合属性参数传递

```html
<body>
	<div id="app">
		<!-- 
			使用自定义属性
		-->
		<com-b :list="users"></com-b>
	</div>
	<script>
		/* 
			组件注册
		 */
		Vue.component('com-b', {
		  /* 
			使用props 给 com-b 组件定义属性
		   */
		  props:["list"],
		  template: `
			<div>
				<div v-for="(user,index) of list" :key="index">
					<span>{{user.userName}}</span> 今年 <span>{{user.age}} 岁了</span>
				</div>
			</div>
		  `
		})
		
		new Vue({
			el:'#app',
			data:{
				users:[
					{
						userName:"小明",
						age:16
					},
					{
						userName:"小红",
						age:15
					},
					{
						userName:"小王",
						age:17
					}
				]
			}
		});
	</script>
</body>

------------------------------------------------------------------------------------------

上面的案例是对组件内部的模板进行循环,其实还可以对整个自定义的组件进行循环

<body>
	<div id="app">
		<!-- 
			使用自定义属性
		-->
		<com-b v-for="(u,index) in users" :user="u" :key="index"></com-b>
	</div>
	<script>
		/* 
			组件注册
		 */
		Vue.component('com-b', {
		  /* 
			使用props 给 com-b 组件定义属性
		   */
		  props:["user"],
		  template: `
			<div>
				<span>{{user.userName}}</span> 今年 <span>{{user.age}} 岁了</span>
			</div>
		  `
		})
		
		new Vue({
			el:'#app',
			data:{
				users:[
					{
						userName:"小明",
						age:16
					},
					{
						userName:"小红",
						age:15
					},
					{
						userName:"小王",
						age:17
					}
				]
			}
		});
	</script>
</body>

```

#### 3.4 定义属性注意事项

```html
<body>
	<div id="app">
		<com-b v-bind:user-name="userName" :age="age"></com-b>
	</div>
	<script>
		/* 
			组件注册
		 */
		Vue.component('com-b', {
		  /* 
			 组件属性定义时官方不建议使用props:["userName","age"]这种格式,官网建议格式: ↓↓↓↓↓
			 官网地址: https://v2.cn.vuejs.org/v2/style-guide/#Prop-%E5%AE%9A%E4%B9%89%E5%BF%85%E8%A6%81
		   */
		  props:{
			  userName:String,
			  age:Number
		  },
		  template: `
			<div>
				<span>{{userName}}</span> 今年 <span>{{age}} 岁了</span>
			</div>
		  `
		})
		
		new Vue({
			el:'#app',
			data:{
				userName:"小明",
				age:16
			}
		});
	</script>
</body>
```

### 第4节 组件的事件定义

#### 4.1 组件内部(子组件)事件定义

```html
<body>
	<div id="app">
		<!-- 自定义组件 -->
		<com-event></com-event>
	</div>
	<script>
		// 定义组件
		Vue.component("com-event",{
			data:function(){
				return {
					count:0
				}
			},
			template:`
				<div>
					<h4>{{count}}</h4>
					<button v-on:click="increCount">组件内部元素绑定事件</button>
				</div>
			`,
			methods:{
				increCount:function(){
					this.count++;
				}
			}
		});
		
		new Vue({
			el:'#app',
			data:{
				
			}
		});
	</script>
</body>
```

#### 4.2 子组件中自定义事件传递到父组件

```html
<body>
	<div id="app">
		<!-- 
			increCount: 子组件中自定义事件名称,通过v-on绑定到父组件中,交给sayHi函数处理
		 -->
		 <h4>{{count}}</h4>
		<com-event v-on:increcount="sayHi"></com-event>
	</div>
	<script>
		// 定义组件
		Vue.component("com-event",{
			data:function(){
				return {
					
				}
			},
			/*
				自定义事件使用$emit函数,详见API文档:
				文档地址: https://v2.cn.vuejs.org/v2/api/#vm-emit
				$emit(参数一,参数二)
				参数一: 自定义事件名称
				参数二: 参数列表
			*/ 
			template:`
				<div>
					<button v-on:click="$emit('increcount')">自定义事件传递(将子组件事件传递到父组件中)</button>
				</div>
			`
		});
		
		new Vue({
			el:'#app',
			data:{
				count:0
			},
			methods:{
				sayHi:function(){
					this.count++;
				}
			}
		});
	</script>
</body>
```

### 第5节 组件的练习

```html
根据第九章第2节的练习做整改,将内部显示的信息封装成一个组件,修改之后的代码如下 ↓↓↓↓↓

<body>
	<div id="app">
		<!-- 输入框 -->
		<input v-model="inputValue" placeholder="亲输入..."/>
		<!-- 添加按钮,绑定单击事件 -->
		<button @click="add" type="button">添加</button>
		<!-- 
			将ul标签部分封装成一个组件
		 -->
		<com-ul :list="list" @del="del"></com-ul>
		<!-- <ul>
			<li style="cursor: pointer;" @click="del(index)" v-for="(item,index) of list" :key="index">{{index+1}}  {{item}}</li>
		</ul> -->
	</div>
	<script type="text/javascript">
		
		// 注册全局组件
		Vue.component("com-ul",{
			props:{
				list:Array
			},
			template:`
				<ul>
					<li style="cursor: pointer;" @click="$emit('del',index)" v-for="(item,index) of list" :key="index">{{index+1}} - {{item}}</li>
				</ul>
			`
		});
		
		new Vue({
			el:"#app",
			data:{
				/* 绑定输入数据 */
				inputValue:"",
				/* 存储输入数据 */
				list:[]
			},
			methods:{
				/* 定义事件触发函数 */
				add:function(){
					/* 数据存储到list中 */
					this.list.push(this.inputValue);
					//将输入框清空
					this.inputValue="";
				},
				/* 定义删除方法,处理子组件传递过来的删除事件 */
				del:function(index){
					/* 
						当点击li项的时候删除当前项,根据索引从数组中删除数据
						splice(参数1,参数2)：操作数组的函数
							参数1: 删除数组数据,从哪个索引开始删除
							参数2: 删除数组数据,从索引开始删除几个
					*/
				   this.list.splice(index,1);
				}
			}
		});
	</script>
</body>
```
## 第十三章 综合练习
### 第1节 练习样式展示

<table>
	<tr>
		<td>
			<img src="https://note.youdao.com/yws/api/personal/file/WEBb3dd8a06aa8ba0b3ea7e08e32d28d964?method=download&shareKey=307c20ca09e42b548268241084064643">
		</td>
	</tr>
</table>

### 第2节 后端服务接口支持

```json
{
  "code": 0,
  "msg": "OK",
  "obj": {
    "pageNo": 1,
    "pageSize": 2,
    "hasPre": false,
    "hasNext": true,
    "count": 100,
    "pageCount": 50,
    "data": [
      {
        "roleId": 1,
        "roleName": "测试角色名称0",
        "createTime": "2022-09-17 14:48:18",
        "updateTime": "2022-09-17 14:48:18",
        "isDelete": 1
      },
      {
        "roleId": 2,
        "roleName": "测试角色名称1",
        "createTime": "2022-09-17 14:48:19",
        "updateTime": "2022-09-17 14:48:18",
        "isDelete": 0
      }
    ]
  }
}
```

### 第3节 Vue Http工具

```xml
案例带有分页功能,需要向后端发送http请求,常见http工具有JS原生,JQuery,axios等,这里我们使用axios进行AJAX发送

Axios官网地址: https://axios-http.com/zh/

CDN引入: <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

GET请求简单例子

// 向给定ID的用户发起请求
	axios.get('/user?ID=12345')
	  .then(function (response) {
		// 处理成功情况
		console.log(response);
	  })
	  .catch(function (error) {
		// 处理错误情况
		console.log(error);
	  })
	  .then(function () {
		// 总是会执行
	  });

	// 上述请求也可以按以下方式完成（可选）
	axios.get('/user', {
		params: {
		  ID: 12345
		}
	  })
	  .then(function (response) {
		console.log(response);
	  })
	  .catch(function (error) {
		console.log(error);
	  })
	  .then(function () {
		// 总是会执行
	  }); 
```

### 第4节 前端代码实现

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>综合练习(角色列表展示)</title>
		<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<style>
			/* 设置表格样式 */
			table td{
				border: 1px solid #000;
			}
			table th{
				border: 2px solid #000;
			}
			/* 设置分页样式 */
			.page>span{
				/* 设置鼠标移动上显示手型 */
				cursor: pointer;
				border: 1px solid #ccc;
				font-size: 12px;
			}
			/* 上一页下一页添加样式 */
			.page>.pre,.next{
				padding: 2px 5px;
				background-color: #ccc;
			}
			/* 鼠标移动上一页和下一页展示伪类样式 */
			.page>.pre:hover,.next:hover{
				background-color: #ddd;
			}
			/* 中间页样式 */
			.page>.mid{
				padding: 2px 8px;
			}
			/* 鼠标移到中间页伪类样式 */
			.page>.mid:hover{
				background-color: #ddd;
			}
			/* 当前页样式 */
			.curr{
				background-color: #ddd;
			}
		</style>
	</head>
	<body>
		<div id="app">
			<!-- 将表格封装成一个组件 -->
			<table-role :roles="roles"></table-role>
			<!-- 分页 -->
			<div class="page" v-if="roles.length>=0">
				<span class="pre" @click="queryRolePage(pageNo-1,pageSize)">上一页</span>
				
				<span class="mid" @click="queryRolePage(p,pageSize)" :class="{curr:p==pageNo}" v-for="(p,index) of pages">{{p}}</span>
				
				<span class="next"  @click="queryRolePage(pageNo+1,pageSize)">下一页</span>
			</div>
		</div>
		<script type="text/javascript">
			
			/* 自定义组件 */
			Vue.component("table-role",{
				props:{
					roles:Array
				},
				template:`
					<table>
						<thead v-if="roles.length>0">
							<tr>
								<th>角色编号</th>
								<th>角色名称</th>
								<th>创建时间</th>
								<th>更新时间</th>
								<th>是否有效</th>
							</tr>
						</thead>
						<tbody>
							<tr v-for="(r,index) of roles" :key="index">
								<td>{{r.roleId}}</td>
								<td>{{r.roleName}}</td>
								<td>{{r.createTime}}</td>
								<td>{{r.updateTime}}</td>
								<td>{{r.isDelete==1?'有效':'无效'}}</td>
							</tr>
						</tbody>
					</table>
				`
			});
			
			new Vue({
				el:"#app",
				data:{
					roles:[],
					pageCount:0,
					pageNo:1,
					pageSize:5
				},
				methods:{
					/* 
						分页函数 
							pn: 当前页
							ps: 每页显示多少条数
					*/
					queryRolePage:function(pn,ps){
						this.pageNo=pn;
						this.pageSize=ps;
						//判断当前页小于等于0那么展示第一页
						if(pn<=0){
							this.pageNo=1;
						}
						//判断总页数
						if(this.pageCount<=0){
							//没有数据或者是第一次发请求
						}else{
							if(this.pageNo>this.pageCount){
								this.pageNo=this.pageCount;
							}
						}
						var that=this;
						/* 需要后台接口支持 */
						axios.get("http://localhost:8080/getRolePage",{
							params:{
								pageNo:that.pageNo,
								pageSize:that.pageSize
							}
						}).then(function (response) {
							//console.log("-->>>",response);
							//初始化pageCount总页数
							that.pageCount=response.data.obj.pageCount;
							//将当前页数据设置到Vue对象的data中
							that.roles=response.data.obj.data;
						});
					}
				},
				/* 
					钩子函数 : 钩子函数又名生命周期函数,具体请详见官网介绍 ↓↓↓↓↓
					钩子函数地址: https://v2.cn.vuejs.org/v2/guide/instance.html#%E5%AE%9E%E4%BE%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90
				*/
				mounted:function(){
					//获取首页数据
					this.queryRolePage(this.pageNo,this.pageSize);
				},
				/* 计算属性生成中间页码 */
				computed:{
					/* 生成页码 */
					pages:function(){
						var arr=[];//页码
						/*  我们定义中间页码最多展示5个  */
						if(this.pageCount<=5){
							for(var i=1;i<=this.pageCount;i++){
								arr.push(i);
							}
						}else{
							if(this.pageNo<=5){
								for(var i=1;i<=5;i++){
									arr.push(i);
								}
							}else{
								for(var i=this.pageNo-4;i<=this.pageNo;i++){ 
									arr.push(i);
								}
							}
						}
						return arr;
					}
				}
			});
		</script>
	</body>
</html>
```